import React, { useState } from "react";
import PropTypes from "prop-types";
import "./registerForm.css";

RegisterForm.propTypes = {
  onSubmit: PropTypes.func,
};
RegisterForm.defaultProps = {
  onSubmit: null,
};

function RegisterForm({ onSubmit }) {
  const [name, setName] = useState("");
  const [phone, setPhone] = useState("");
  const [email, setEmail] = useState("");
  const [radio, setRadio] = useState("");

  const [nameErr, setNameErr] = useState("");
  const [phoneErr, setPhoneErr] = useState("");
  const [emailErr, setEmailErr] = useState("");

  const validation = () => {
    let isValid = true;
    let nameError = "";
    let phoneError = "";
    let emailError = "";

    if (name.trim().length <= 0) {
      isValid = false;
      nameError = "Vui Lòng Nhập Tên";
    }

    if (phone.trim().length <= 7 || phone.trim().length >= 15) {
      isValid = false;
      phoneError = "Vui Lòng Nhập Đúng Số điện Thoại";
    }
    if (phone.trim().length <= 0) {
      isValid = false;
      phoneError = "Vui Lòng Nhập Số điện Thoại";
    }

    if (!email.includes("@")) {
      isValid = false;
      emailError = "Vui Lòng Nhập Đúng Định Dạng Email";
    }

    if (email.trim().length <= 0) {
      isValid = false;
      emailError = "Vui Lòng Nhập Email";
    }

    setNameErr(nameError);
    setPhoneErr(phoneError);
    setEmailErr(emailError);

    return isValid;
  };

  const handleFormSubmit = (e) => {
    e.preventDefault();
    const data = { name, phone, email, radio };

    const isValid = validation();

    if (isValid) {
      onSubmit(data);
    }
  };

  return (
    <div className="registration">
      <h2>
        CÙNG ỨNG DỤNG ELSA <br></br> NÓI TIẾNG ANH “THẢ GA”
      </h2>
      <form onSubmit={handleFormSubmit} className="form">
        <div>
          <label htmlFor="name">
            <svg
              width="30"
              height="36"
              viewBox="0 0 30 36"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M14.7789 17.3201C17.1549 17.3201 19.219 16.4669 20.907 14.779C22.595 13.091 23.4481 11.0361 23.4481 8.65087C23.4481 6.27486 22.595 4.21076 20.907 2.52279C19.219 0.853161 17.1549 0 14.7789 0C12.4029 0 10.3388 0.853161 8.65085 2.54114C6.96287 4.21994 6.10971 6.28404 6.10971 8.66004C6.10971 11.0361 6.96287 13.1002 8.65085 14.7881C10.3388 16.4669 12.3937 17.3201 14.7789 17.3201ZM10.1462 4.02729C11.4397 2.73378 12.9533 2.10997 14.7789 2.10997C16.6045 2.10997 18.1182 2.73378 19.4117 4.02729C20.7052 5.32079 21.329 6.83446 21.329 8.66004C21.329 10.4856 20.7052 11.9993 19.4117 13.2928C18.1182 14.5863 16.6045 15.2101 14.7789 15.2101C12.9533 15.2101 11.4397 14.5771 10.1462 13.2928C8.85267 11.9993 8.22885 10.4856 8.22885 8.66004C8.21968 6.83446 8.85267 5.32079 10.1462 4.02729Z"
                fill="#06BAE8"
              />
              <path
                d="M29.934 27.6589C29.8882 26.9617 29.7872 26.1911 29.6405 25.3838C29.4937 24.5674 29.3102 23.8059 29.0809 23.0996C28.8515 22.3748 28.5304 21.6593 28.1451 20.9713C27.7415 20.2557 27.2645 19.6411 26.7324 19.1273C26.1728 18.5952 25.4847 18.1641 24.6958 17.8522C23.9069 17.5403 23.0353 17.3843 22.0996 17.3843C21.7327 17.3843 21.3749 17.5311 20.696 17.9806C20.274 18.2558 19.7787 18.5769 19.2282 18.9255C18.7604 19.2282 18.1182 19.5034 17.3293 19.7603C16.5587 20.008 15.7789 20.1364 15.0083 20.1364C14.2377 20.1364 13.4579 20.008 12.6873 19.7603C11.8984 19.5034 11.2654 19.2282 10.7884 18.9255C10.2379 18.5769 9.75172 18.2558 9.32055 17.9806C8.63252 17.5311 8.28392 17.3843 7.91697 17.3843C6.98124 17.3843 6.10973 17.5403 5.32079 17.8522C4.53185 18.1641 3.84381 18.5952 3.28421 19.1273C2.75213 19.6411 2.2751 20.2557 1.87145 20.9713C1.4678 21.6501 1.1559 22.3748 0.917377 23.0996C0.697207 23.8059 0.504558 24.5674 0.357777 25.3838C0.210997 26.1911 0.119259 26.9526 0.0642164 27.6589C0.0275213 28.347 0 29.0533 0 29.7781C0 31.6587 0.596295 33.1724 1.77054 34.3007C2.93561 35.4108 4.46763 35.9704 6.33908 35.9704H23.6592C25.5306 35.9704 27.0626 35.4108 28.2277 34.3007C29.4019 33.1815 29.9982 31.6587 29.9982 29.7781C30.0074 29.0533 29.9799 28.3378 29.934 27.6589ZM26.7782 32.7687C26.0077 33.5026 24.9894 33.8512 23.6592 33.8512H6.34825C5.01805 33.8512 3.99977 33.4935 3.22917 32.7687C2.47692 32.0532 2.10997 31.0716 2.10997 29.7781C2.10997 29.1084 2.12832 28.4387 2.17418 27.7965C2.22005 27.1727 2.30262 26.4847 2.44022 25.7508C2.56866 25.0261 2.73378 24.3472 2.93561 23.7326C3.12826 23.1454 3.38512 22.5583 3.69703 21.9987C3.99977 21.4666 4.34837 21.0079 4.73367 20.6318C5.09144 20.2832 5.55013 19.9988 6.09139 19.7878C6.58677 19.5952 7.14637 19.4851 7.75184 19.4668C7.82523 19.5034 7.95366 19.5768 8.17383 19.7236C8.605 20.008 9.10956 20.3291 9.65998 20.6777C10.2838 21.0722 11.0819 21.4299 12.0452 21.7419C13.0268 22.0629 14.0267 22.2189 15.0175 22.2189C16.0082 22.2189 17.0082 22.0538 17.9898 21.7419C18.953 21.4299 19.7511 21.0722 20.375 20.6777C20.9437 20.3199 21.4208 20.008 21.8611 19.7236C22.0721 19.586 22.2097 19.5126 22.2831 19.4668C22.8886 19.4851 23.4482 19.5952 23.9436 19.7878C24.4848 19.9988 24.9343 20.2832 25.3013 20.6318C25.6866 20.9988 26.0352 21.4575 26.3379 21.9987C26.659 22.5583 26.9159 23.1454 27.0993 23.7326C27.292 24.3472 27.4571 25.0261 27.5947 25.7508C27.7231 26.4847 27.8149 27.1727 27.8608 27.7965C27.9066 28.4295 27.925 29.0992 27.925 29.7781C27.8974 31.0716 27.5305 32.0532 26.7782 32.7687Z"
                fill="#06BAE8"
              />
            </svg>
            <p>Họ Tên *</p>
          </label>
          <input
            className="inputField"
            id="name"
            type="text"
            value={name}
            onChange={(e) => {
              setName(e.target.value);
              if (!!nameErr) {
                setNameErr("");
              }
            }}
          />
          {!!nameErr && <p className="error">{nameErr}</p>}
        </div>

        <div>
          <label htmlFor="phone">
            <svg
              width="30"
              height="31"
              viewBox="0 0 30 31"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0 4.49786C0 3.61866 0.33238 2.7609 0.922087 2.11758C1.58685 1.38849 2.53038 0.970337 3.52752 0.970337H8.2559C10.0465 0.970337 11.5583 2.31058 11.7513 4.09042C11.8692 5.14117 12.0836 6.17048 12.3946 7.17834C12.7806 8.43281 12.4482 9.78377 11.5261 10.7059L9.60686 12.6251C11.6119 16.292 14.6783 19.3585 18.3452 21.3635L20.2645 19.4442C21.1866 18.5222 22.5375 18.1898 23.792 18.5758C24.7999 18.8867 25.8292 19.1011 26.8799 19.2191C28.6598 19.4228 30 20.9239 30 22.7144V27.4428C30 28.4292 29.5818 29.3728 28.8528 30.0482C28.1237 30.713 27.1372 31.0454 26.1401 30.9596C22.7412 30.6487 19.4711 29.748 16.4046 28.2898C13.4239 26.8638 10.7219 24.9553 8.37384 22.6179C6.02573 20.2698 4.11723 17.5679 2.70193 14.5872C1.24375 11.5207 0.343102 8.23981 0.0321661 4.85168C2.25674e-07 4.71229 0 4.60508 0 4.49786ZM10.2073 8.20765C10.2073 8.08971 10.1858 7.97176 10.1537 7.85382C9.79986 6.7173 9.56397 5.53788 9.42459 4.34774C9.36026 3.75804 8.85633 3.30772 8.2559 3.30772H3.52752C3.19514 3.30772 2.8842 3.44711 2.65904 3.69371C2.43388 3.94032 2.32666 4.2727 2.34811 4.60508C3.5168 17.332 13.6169 27.4321 26.3545 28.6008C26.6976 28.6329 27.0193 28.5257 27.2659 28.2898C27.5125 28.0647 27.6519 27.7538 27.6519 27.4214V22.693C27.6519 22.0926 27.2016 21.5886 26.6119 21.5243C25.4217 21.3956 24.2423 21.149 23.1058 20.7952C22.6769 20.6665 22.2266 20.7738 21.9157 21.0847L18.7956 24.2048L18.045 23.8295C13.3381 21.4921 9.46748 17.6108 7.11937 12.9039L6.7441 12.1533L9.86419 9.03324C10.0894 8.80807 10.2073 8.51859 10.2073 8.20765Z"
                fill="#06BAE8"
              />
            </svg>
            <p>Số Điện Thoại *</p>
          </label>
          <input
            className="inputField"
            id="phone"
            type="number"
            value={phone}
            onChange={(e) => {
              setPhone(e.target.value);
              if (!!phoneErr) {
                setPhoneErr("");
              }
            }}
          />
          {!!phoneErr && <p className="error">{phoneErr}</p>}
        </div>

        <div>
          <label htmlFor="email">
            <svg
              width="30"
              height="23"
              viewBox="0 0 30 23"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M29.8587 2.97897C29.8493 2.96029 29.8493 2.95093 29.84 2.93224C29.8307 2.91356 29.8307 2.89488 29.8213 2.87619C29.812 2.85751 29.812 2.83882 29.8026 2.82014C29.7933 2.80145 29.784 2.78277 29.784 2.76409C29.7746 2.7454 29.7653 2.72672 29.7653 2.70803C29.7559 2.68935 29.7466 2.67066 29.7372 2.65198C29.7279 2.63329 29.7186 2.61462 29.7092 2.60528C29.6999 2.58659 29.6905 2.56788 29.6812 2.5492C29.6718 2.53051 29.6625 2.51184 29.6532 2.5025C29.6438 2.48381 29.6345 2.46513 29.6251 2.44644C29.6158 2.42776 29.6064 2.40908 29.5971 2.39974C29.5878 2.38106 29.5784 2.36235 29.5691 2.35301C29.5597 2.33433 29.5504 2.325 29.541 2.30631C29.5317 2.28763 29.5224 2.26892 29.513 2.25958C29.5037 2.2409 29.4943 2.23157 29.485 2.21288C29.4756 2.1942 29.4663 2.18486 29.4476 2.16618C29.4383 2.14749 29.4289 2.13813 29.4103 2.11945C29.4009 2.10076 29.3822 2.09143 29.3729 2.07275C29.3635 2.05406 29.3542 2.0447 29.3355 2.02602C29.3262 2.00733 29.3075 1.998 29.2981 1.97932C29.2888 1.96997 29.2701 1.95128 29.2608 1.94194C29.2514 1.92325 29.2327 1.91392 29.2234 1.89524C29.2141 1.8859 29.1954 1.8672 29.186 1.85786C29.1767 1.83917 29.158 1.82984 29.1487 1.81116C29.1393 1.80182 29.1206 1.78312 29.1113 1.77378C29.0926 1.76444 29.0833 1.74574 29.0646 1.7364C29.0552 1.72706 29.0366 1.7084 29.0272 1.69905C29.0085 1.68971 28.9992 1.67102 28.9805 1.66167C28.9712 1.65233 28.9525 1.64298 28.9431 1.6243C28.9244 1.61495 28.9151 1.59626 28.8964 1.58692C28.8777 1.57758 28.8684 1.56823 28.8497 1.55889C28.831 1.54955 28.8217 1.53088 28.803 1.52154C28.7843 1.5122 28.775 1.50286 28.7563 1.49352C28.7376 1.48417 28.7282 1.47482 28.7096 1.45614C28.6909 1.4468 28.6815 1.43745 28.6628 1.42811C28.6442 1.41877 28.6255 1.40943 28.6161 1.40009C28.5975 1.39074 28.5881 1.3814 28.5694 1.37206C28.5507 1.36272 28.5321 1.35337 28.5227 1.34403C28.504 1.33469 28.4947 1.32535 28.476 1.31601C28.4573 1.30666 28.4386 1.29732 28.4199 1.28798C28.4013 1.27864 28.3919 1.2693 28.3732 1.25995C28.3545 1.25061 28.3359 1.24127 28.3172 1.23193C28.2985 1.22258 28.2798 1.21322 28.2705 1.21322C28.2518 1.20388 28.2331 1.19454 28.2144 1.1852C28.1957 1.17585 28.177 1.17586 28.1584 1.16652C28.1397 1.15718 28.121 1.14782 28.1023 1.14782C28.0836 1.13848 28.0649 1.13849 28.0462 1.12914C28.0276 1.1198 28.0089 1.11981 27.9902 1.11047C27.9715 1.10113 27.9528 1.10111 27.9341 1.09177C27.9154 1.08242 27.8968 1.08243 27.8781 1.07309C27.8594 1.06375 27.8407 1.06376 27.822 1.05442C27.8033 1.04507 27.7847 1.04506 27.766 1.03571C27.7473 1.03571 27.7286 1.02639 27.7099 1.02639C27.6912 1.02639 27.6725 1.01704 27.6539 1.01704C27.6352 1.01704 27.6165 1.00769 27.5885 1.00769C27.5698 1.00769 27.5511 0.998363 27.5324 0.998363C27.5137 0.998363 27.4857 0.989012 27.467 0.989012C27.4483 0.989012 27.4296 0.97966 27.4203 0.97966C27.4016 0.97966 27.3736 0.979679 27.3549 0.970337C27.3362 0.970337 27.3269 0.970337 27.3082 0.970337C27.2802 0.970337 27.2521 0.970337 27.2334 0.970337C27.2241 0.970337 27.2054 0.970337 27.1961 0.970337C27.1587 0.970337 27.1213 0.970337 27.0746 0.970337H2.94289C2.90552 0.970337 2.85881 0.970337 2.82144 0.970337C2.8121 0.970337 2.79341 0.970337 2.78407 0.970337C2.75604 0.970337 2.72802 0.970337 2.70933 0.970337C2.69065 0.970337 2.6813 0.970337 2.66262 0.970337C2.64393 0.970337 2.61591 0.970318 2.59722 0.97966C2.57854 0.97966 2.55985 0.989012 2.55051 0.989012C2.53182 0.989012 2.5038 0.998363 2.48511 0.998363C2.46643 0.998363 2.44774 1.00769 2.42906 1.00769C2.41037 1.00769 2.39169 1.01704 2.36366 1.01704C2.34497 1.01704 2.32629 1.02639 2.3076 1.02639C2.28892 1.02639 2.27023 1.03571 2.25155 1.03571C2.23286 1.03571 2.21418 1.04507 2.19549 1.05442C2.17681 1.06376 2.15812 1.06375 2.13944 1.07309C2.12075 1.08243 2.10207 1.08242 2.08338 1.09177C2.0647 1.10111 2.04601 1.10113 2.02733 1.11047C2.00864 1.11981 1.98996 1.1198 1.97127 1.12914C1.95259 1.13849 1.9339 1.13848 1.91522 1.14782C1.89653 1.15716 1.87785 1.15718 1.85916 1.16652C1.84048 1.17586 1.82179 1.17585 1.80311 1.1852C1.78442 1.19454 1.76574 1.20388 1.74705 1.21322C1.72837 1.22257 1.70968 1.23193 1.70034 1.23193C1.68165 1.24127 1.66297 1.25061 1.64428 1.25995C1.63494 1.27864 1.61626 1.27864 1.59757 1.28798C1.57889 1.29732 1.5602 1.30666 1.54152 1.31601C1.52283 1.32535 1.51349 1.33469 1.4948 1.34403C1.47612 1.35337 1.45743 1.36272 1.44809 1.37206C1.42941 1.3814 1.42006 1.39074 1.40138 1.40009C1.38269 1.40943 1.36401 1.41877 1.35467 1.42811C1.33598 1.43745 1.32664 1.4468 1.30795 1.45614C1.28927 1.46548 1.27993 1.47483 1.26124 1.49352C1.24256 1.50286 1.23321 1.5122 1.21453 1.52154C1.19584 1.53088 1.1865 1.54955 1.16781 1.55889C1.15847 1.56823 1.13979 1.57758 1.1211 1.58692C1.10242 1.59626 1.09307 1.61495 1.07439 1.6243C1.06505 1.63364 1.04636 1.64299 1.03702 1.66167C1.01833 1.67102 1.00899 1.68971 0.990307 1.69905C0.980965 1.7084 0.962279 1.72706 0.952937 1.7364C0.934252 1.74574 0.924909 1.76444 0.906224 1.77378C0.896882 1.78312 0.878197 1.80182 0.868854 1.81116C0.850169 1.8205 0.840827 1.83917 0.831484 1.85786C0.822142 1.8672 0.803457 1.8859 0.794114 1.89524C0.784772 1.91392 0.766087 1.92325 0.756744 1.94194C0.747402 1.95128 0.728716 1.96997 0.719374 1.97932C0.710031 1.998 0.691346 2.00733 0.682004 2.02602C0.672661 2.03536 0.663319 2.05405 0.644634 2.0634C0.635291 2.08208 0.616606 2.09144 0.607264 2.11013C0.597921 2.12881 0.588579 2.13814 0.569894 2.15683C0.560551 2.17551 0.551209 2.18484 0.532524 2.20353C0.523181 2.22221 0.513839 2.23157 0.504496 2.25026C0.495154 2.26894 0.485811 2.27827 0.476469 2.29696C0.467126 2.31564 0.457783 2.325 0.448441 2.34369C0.439098 2.36237 0.429756 2.38105 0.420413 2.39039C0.411071 2.40908 0.401728 2.41841 0.392386 2.43709C0.383043 2.45578 0.373701 2.47446 0.364358 2.49314C0.355016 2.51183 0.345673 2.53053 0.336331 2.53987C0.326988 2.55856 0.317646 2.57724 0.308303 2.59593C0.298961 2.61461 0.289618 2.63329 0.280276 2.64263C0.270933 2.66131 0.261591 2.68 0.252248 2.69868C0.242906 2.71737 0.233563 2.73605 0.233563 2.75473C0.22422 2.77342 0.214878 2.79213 0.214878 2.81082C0.205535 2.8295 0.205535 2.84818 0.196193 2.86687C0.18685 2.88555 0.18685 2.90424 0.177508 2.92292C0.168165 2.94161 0.168165 2.95094 0.158823 2.96962C0.0560551 3.25924 0 3.56753 0 3.89452V19.5526C0 21.1315 1.26124 22.4301 2.82144 22.4862C2.84013 22.4862 2.85881 22.4862 2.86815 22.4862C2.88684 22.4862 2.90552 22.4862 2.92421 22.4862H27.0746C28.3545 22.4862 29.4756 21.6733 29.8587 20.4495C29.8774 20.4028 29.8867 20.3561 29.8961 20.3093C29.9615 20.0664 29.9988 19.8142 29.9988 19.5526V3.89452C30.0082 3.57688 29.9615 3.26859 29.8587 2.97897ZM2.34497 3.13778C2.35432 3.12844 2.373 3.1191 2.38234 3.10975C2.39169 3.10041 2.40103 3.10042 2.41037 3.09108C2.41971 3.08174 2.4384 3.0724 2.44774 3.06305C2.45708 3.05371 2.46643 3.05372 2.47577 3.04438C2.48511 3.03504 2.5038 3.02568 2.51314 3.02568C2.52248 3.01633 2.53182 3.01634 2.54117 3.007C2.55051 2.99766 2.56919 2.99764 2.58788 2.9883C2.59722 2.9883 2.60656 2.97897 2.61591 2.97897C2.63459 2.96963 2.64393 2.96961 2.66262 2.96027C2.67196 2.96027 2.6813 2.95095 2.69065 2.95095C2.70933 2.95095 2.71867 2.9416 2.73736 2.9416C2.7467 2.9416 2.75604 2.94159 2.76539 2.93224C2.78407 2.93224 2.80276 2.92292 2.82144 2.92292C2.83078 2.92292 2.84013 2.92292 2.84947 2.92292C2.8775 2.92292 2.90552 2.92292 2.93355 2.92292H27.0746C27.1026 2.92292 27.1307 2.92292 27.1587 2.92292C27.168 2.92292 27.1774 2.92292 27.1867 2.92292C27.2054 2.92292 27.2241 2.9229 27.2428 2.93224C27.2521 2.93224 27.2615 2.93225 27.2708 2.9416C27.2895 2.9416 27.2988 2.95095 27.3175 2.95095C27.3269 2.95095 27.3362 2.96027 27.3456 2.96027C27.3642 2.96027 27.3736 2.96963 27.3923 2.97897C27.4016 2.97897 27.411 2.9883 27.4203 2.9883C27.439 2.99764 27.4483 2.99766 27.467 3.007C27.4764 3.007 27.4857 3.01633 27.495 3.02568C27.5044 3.03502 27.5231 3.03504 27.5324 3.04438C27.5417 3.05372 27.5511 3.05371 27.5604 3.06305C27.5698 3.0724 27.5885 3.08174 27.5978 3.09108C27.6071 3.10042 27.6165 3.10041 27.6258 3.10975C27.6352 3.1191 27.6539 3.12844 27.6632 3.13778C27.6725 3.14712 27.6725 3.14714 27.6819 3.15648L15.6861 15.1523C15.4992 15.3391 15.2563 15.4419 14.9947 15.4419C14.7332 15.4419 14.4902 15.3391 14.3034 15.1523L2.31694 3.14713C2.32629 3.14713 2.33563 3.13778 2.34497 3.13778ZM1.96193 5.55749L8.14668 11.7423L1.96193 17.927V5.55749ZM27.0746 20.5429H2.95224C2.71867 20.5429 2.5038 20.4588 2.33563 20.3187L9.52937 13.1249L12.93 16.5256C13.4813 17.0768 14.2193 17.3851 15.0041 17.3851C15.7889 17.3851 16.5269 17.0768 17.0781 16.5256L20.4975 13.1063L27.7006 20.3093C27.5324 20.4588 27.3175 20.5429 27.0746 20.5429ZM28.0556 17.899L21.8895 11.7329L28.0556 5.56684V17.899Z"
                fill="#06BAE8"
              />
            </svg>

            <p>Email *</p>
          </label>

          <input
            className="inputField"
            id="email"
            type="type"
            value={email}
            onChange={(e) => {
              setEmail(e.target.value);
              if (emailErr) {
                setEmailErr("");
              }
            }}
          />
          {!!emailErr && <p className="error">{emailErr}</p>}
        </div>

        <div className="radiofiled">
          <label>
            <input
              type="radio"
              checked={radio === "Gói học 1 năm"}
              value="Gói học 1 năm"
              onChange={() => setRadio("Gói học 1 năm")}
            />
            <span>Gói học 1 năm</span>
          </label>
          <label>
            <input
              type="radio"
              checked={radio === "Gói trọn đời"}
              value="Gói trọn đời"
              onChange={() => setRadio("Gói trọn đời")}
            />
            <span>Gói trọn đời</span>
          </label>
        </div>

        {!!radio && (
          <p className="price">
            {radio === "Gói học 1 năm" ? "989.000 VND" : "1.995.000 VND"}
          </p>
        )}

        <button className="btn" type="submit">
          GỬI ĐĂNG KÝ
        </button>
      </form>
    </div>
  );
}

export default RegisterForm;
